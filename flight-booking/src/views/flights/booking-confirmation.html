<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Confirmed - SkyWay</title>
    <link href="/css/styles.css" rel="stylesheet">
</head>
<body class="bg-gray-50" x-data="{ 
    loading: true,
    showQR: false
}">
    <!-- Loading Skeleton -->
    <div x-show="loading" 
         x-init="setTimeout(() => { loading = false; showSuccessAnimation(); }, 1000)"
         class="fixed inset-0 bg-white z-50 flex items-center justify-center">
        <div class="space-y-4 w-full max-w-3xl px-4">
            <div class="h-8 skeleton rounded-lg w-1/4 mx-auto"></div>
            <div class="h-64 skeleton rounded-lg"></div>
        </div>
    </div>

    <div x-show="!loading" 
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         class="min-h-screen">

        <!-- Success Animation -->
        <div class="fixed inset-0 flex items-center justify-center bg-white z-50" id="successAnimation">
            <div class="text-center">
                <div class="success-checkmark scale-150">
                    <div class="check-icon">
                        <span class="icon-line line-tip"></span>
                        <span class="icon-line line-long"></span>
                        <div class="icon-circle"></div>
                        <div class="icon-fix"></div>
                    </div>
                </div>
                <h2 class="text-2xl font-bold text-gray-800 mt-4">Booking Confirmed!</h2>
            </div>
        </div>

        <div class="max-w-4xl mx-auto px-4 py-8">
            <!-- Confirmation Header -->
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4">
                    <svg class="w-8 h-8 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                </div>
                <h1 class="text-3xl font-bold text-gray-900">Thank You for Your Booking!</h1>
                <p class="text-gray-600 mt-2">Booking reference: <span class="font-medium">EK2023091234</span></p>
            </div>

            <!-- E-Ticket Card -->
            <div class="card mb-8 relative overflow-hidden">
                <!-- Decorative Elements -->
                <div class="absolute top-0 left-0 w-full h-2 bg-primary-600"></div>
                <div class="absolute top-4 left-4 w-20 h-20 rounded-full bg-primary-50"></div>
                <div class="absolute bottom-4 right-4 w-32 h-32 rounded-full bg-primary-50"></div>

                <div class="relative">
                    <!-- Airline Info -->
                    <div class="flex items-center justify-between mb-8">
                        <div class="flex items-center space-x-4">
                            <img src="/images/emirates-logo.png" alt="Emirates" class="w-16 h-16 object-contain">
                            <div>
                                <h2 class="font-bold text-xl">Emirates Airlines</h2>
                                <p class="text-gray-600">EK201</p>
                            </div>
                        </div>
                        <button 
                            @click="showQR = !showQR"
                            class="text-primary-600 hover:text-primary-700">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v-4m6 0v4m6-1a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </button>
                    </div>

                    <!-- Flight Details -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                        <div>
                            <p class="text-sm text-gray-600">Departure</p>
                            <p class="font-bold text-2xl">10:30</p>
                            <p class="text-gray-800">New York (JFK)</p>
                            <p class="text-sm text-gray-600">Terminal 4</p>
                        </div>
                        <div class="flex flex-col items-center justify-center">
                            <p class="text-sm text-gray-600 mb-2">Duration</p>
                            <div class="relative w-full">
                                <div class="absolute inset-y-1/2 w-full border-t-2 border-dashed border-gray-300"></div>
                                <svg class="w-8 h-8 text-primary-600 mx-auto relative" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
                                </svg>
                            </div>
                            <p class="font-medium mt-2">7h 15m</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm text-gray-600">Arrival</p>
                            <p class="font-bold text-2xl">22:45</p>
                            <p class="text-gray-800">London (LHR)</p>
                            <p class="text-sm text-gray-600">Terminal 5</p>
                        </div>
                    </div>

                    <!-- Passenger Details -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="font-bold mb-4">Passenger 1</h3>
                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Name</span>
                                    <span class="font-medium">John Doe</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Seat</span>
                                    <span class="font-medium">12A</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Class</span>
                                    <span class="font-medium">Economy</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold mb-4">Passenger 2</h3>
                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Name</span>
                                    <span class="font-medium">Jane Doe</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Seat</span>
                                    <span class="font-medium">12B</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Class</span>
                                    <span class="font-medium">Economy</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- QR Code Modal -->
            <div x-show="showQR"
                 class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
                 @click.self="showQR = false">
                <div class="bg-white p-8 rounded-xl max-w-sm w-full mx-4">
                    <div class="text-center">
                        <h3 class="font-bold text-xl mb-4">Boarding Pass QR Code</h3>
                        <img src="/images/qr-code.svg" alt="QR Code" class="w-48 h-48 mx-auto mb-4">
                        <p class="text-sm text-gray-600">Scan this code at the airport for quick check-in</p>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <button class="btn-primary flex items-center justify-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                    </svg>
                    Download E-Ticket
                </button>
                <button class="btn-secondary flex items-center justify-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    Email Confirmation
                </button>
            </div>
        </div>
    </div>

    <style>
        .success-checkmark {
            width: 80px;
            height: 80px;
            margin: 0 auto;
            
            .check-icon {
                width: 80px;
                height: 80px;
                position: relative;
                border-radius: 50%;
                box-sizing: content-box;
                border: 4px solid #4CAF50;
                
                &::before {
                    top: 3px;
                    left: -2px;
                    width: 30px;
                    transform-origin: 100% 50%;
                    border-radius: 100px 0 0 100px;
                }
                
                &::after {
                    top: 0;
                    left: 30px;
                    width: 60px;
                    transform-origin: 0 50%;
                    border-radius: 0 100px 100px 0;
                    animation: rotate-circle 4.25s ease-in;
                }
                
                &::before, &::after {
                    content: '';
                    height: 100px;
                    position: absolute;
                    background: #FFFFFF;
                    transform: rotate(-45deg);
                }
                
                .icon-line {
                    height: 5px;
                    background-color: #4CAF50;
                    display: block;
                    border-radius: 2px;
                    position: absolute;
                    z-index: 10;
                    
                    &.line-tip {
                        top: 46px;
                        left: 14px;
                        width: 25px;
                        transform: rotate(45deg);
                        animation: icon-line-tip 0.75s;
                    }
                    
                    &.line-long {
                        top: 38px;
                        right: 8px;
                        width: 47px;
                        transform: rotate(-45deg);
                        animation: icon-line-long 0.75s;
                    }
                }
                
                .icon-circle {
                    top: -4px;
                    left: -4px;
                    z-index: 10;
                    width: 80px;
                    height: 80px;
                    border-radius: 50%;
                    position: absolute;
                    box-sizing: content-box;
                    border: 4px solid rgba(76, 175, 80, .5);
                }
                
                .icon-fix {
                    top: 8px;
                    width: 5px;
                    left: 26px;
                    z-index: 1;
                    height: 85px;
                    position: absolute;
                    transform: rotate(-45deg);
                    background-color: #FFFFFF;
                }
            }
        }

        @keyframes rotate-circle {
            0% {
                transform: rotate(-45deg);
            }
            5% {
                transform: rotate(-45deg);
            }
            12% {
                transform: rotate(-405deg);
            }
            100% {
                transform: rotate(-405deg);
            }
        }

        @keyframes icon-line-tip {
            0% {
                width: 0;
                left: 1px;
                top: 19px;
            }
            54% {
                width: 0;
                left: 1px;
                top: 19px;
            }
            70% {
                width: 50px;
                left: -8px;
                top: 37px;
            }
            84% {
                width: 17px;
                left: 21px;
                top: 48px;
            }
            100% {
                width: 25px;
                left: 14px;
                top: 45px;
            }
        }

        @keyframes icon-line-long {
            0% {
                width: 0;
                right: 46px;
                top: 54px;
            }
            65% {
                width: 0;
                right: 46px;
                top: 54px;
            }
            84% {
                width: 55px;
                right: 0px;
                top: 35px;
            }
            100% {
                width: 47px;
                right: 8px;
                top: 38px;
            }
        }
    </style>

    <script>
        function showSuccessAnimation() {
            setTimeout(() => {
                document.getElementById('successAnimation').style.display = 'none';
            }, 2000);
        }
    </script>
</body>
</html>